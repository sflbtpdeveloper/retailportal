sap.ui.define(["zretail_sfl/controller/BaseController","sap/ui/model/odata/v2/ODataModel","sap/m/MessageToast","sap/m/MessageBox"],function(e,t,s,o){"use strict";return e.extend("zretail_sfl.fragments.front",{onInit:function(e){this.startFadeInOut()},typewriterEffect:function(e,t){var s=this._sFragmentUniqueId;const o=this.getView().byId(s+"--welcomeText");let n=0;const i=()=>{if(n<t.length){o.setText(o.getText()+t.charAt(n));n++;setTimeout(i,100)}else{setTimeout(()=>{o.setText("");n=0;i()},2e3)}};i()},_startCarouselTimer:function(e){var t=this._sFragmentUniqueId;var s=this.getView().byId(t+"--__productCarousel");this._carouselIndex=0;var o=s.getPages();var n=o.length;if(n>1){setInterval(function(){this._carouselIndex=(this._carouselIndex+1)%n;const e=o[this._carouselIndex];if(e){s.setActivePage(e)}}.bind(this),5e3)}},onLogOut:async function(){debugger;const e=await this.getCsrfToken("/nodeapp/custom/logout");$.ajax({type:"POST",url:"/nodeapp/custom/logout",headers:{"X-CSRF-Token":e,"Content-Type":"application/json"},success:function(e){window.location.href=e},error:function(e,t,s){console.error("Logout failed:",s);console.log("Response status:",e.status);console.log("Response text:",e.responseText)}})},getCsrfToken:function(e){return new Promise(function(t,s){$.ajax({type:"GET",url:e,headers:{"X-CSRF-Token":"fetch","Content-Type":"application/json"},success:function(e,s,o){const n=o.getResponseHeader("X-CSRF-Token");debugger;t(n)},error:function(e,t,o){console.error("Failed to fetch CSRF token:",o);s(o)}})})},startSessionTimeout:function(){const e=48e4;let t;const s=()=>{clearTimeout(t);t=setTimeout(()=>{this.onSessionTimeout()},e)};document.addEventListener("mousemove",s);document.addEventListener("keydown",s);s()},onSessionTimeout:function(){sap.m.MessageToast.show("Session has expired due to inactivity.");this.onLogOut()},startFadeInOut:function(e){var t=["/images/Black-Nut.jpg","/images/Bolt.jpg","/images/DSC03285.jpg","/images/IMG_0398.jpg","/images/IMG_3883.jpg"];var s=this._sFragmentUniqueId;var o=this.getView().byId(s+"--fadeImage");this._carouselIndex=0;var n=t.length;o.setSrc(t[this._carouselIndex]);if(n>1){setInterval(function(){this._carouselIndex=(this._carouselIndex+1)%n;const e=t[this._carouselIndex];if(e){o.setSrc(e)}}.bind(this),3e3)}}})});
//# sourceMappingURL=front.js.map